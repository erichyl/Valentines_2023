<!doctype html>
<html>
<head>  
    <meta charset="utf-8">
    <title>Valentines Day</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div>
        <h1 id="header">Will you be My Valentine?</h1>
        <img src="images/mochaLove.gif" alt="mocha hearts" id="gif">
        
    </div>
    <button id="yesButton1" class="yesButton" onclick="clickYes();"> Yes </button>
    <button id="yesButton2" class="yesButton"onclick="clickYes();"> Yes </button>
    <button id="noButton" onclick="clickNo();"> No </button>
    
    <script type="text/javascript">
        var noButton = document.getElementById('noButton');
        var yesButton1 = document.getElementById('yesButton1');
        var yesButton2 = document.getElementById('yesButton2');
        var gif = document.getElementById("gif");
        window.onload = function (){
            init();
        }
        document.addEventListener('mousemove', function(e){
            var div = document.querySelector('#noButton');
            var rect = div.getBoundingClientRect();
            var mouseX = e.clientX;
            var mouseY = e.clientY;
            var buttonX = rect.left;
            var buttonY = rect.top;
            var buttonWidth = rect.right - buttonX;
            var buttonLength = rect.bottom - buttonY;
            if (isTouching(mouseX, mouseY, buttonX, buttonY, buttonLength, buttonWidth)) {
                noButton.style.left = randomMoveX() + "px";
                noButton.style.top = randomMoveY() + "px";
            }
        });

        window.addEventListener('resize', function(e){
            init();
        });

        function init () {
            noButton.style.left = (window.innerWidth/2) + 145 + "px";
            noButton.style.top = (window.innerHeight/2) + 200 + "px";
            yesButton1.style.left = (window.innerWidth/2) - 145 + "px";
            yesButton1.style.top = (window.innerHeight/2) + 200 + "px";
            yesButton2.style.left = (window.innerWidth/2) + 145 + "px";
            yesButton2.style.top = (window.innerHeight/2) + 200 + "px";
        }

        function isTouching (x1, y1, x2, y2, l, w) {
            return (((x1 + 20) >= x2 && (x1 - 20) <= (x2 + w) ) && 
            ((y1 + 20) >= y2 && (y1 - 20) <= (y2 + l)));
        }

        function randomMoveX () {
            return Math.floor(Math.random()*(window.innerWidth-100)) + 50;
        }

        function randomMoveY () {
            return Math.floor(Math.random()*(window.innerHeight-100)) + 50;
        }

        function clickYes () {
            gif.src = "images/kiss.gif";
            hideButtons();
            document.getElementById("header").innerHTML = "Love you so muchhh (*≧∀≦*)";
        }

        function clickNo () {
            gif.src = "images/milkPout.gif";
            document.getElementById("header").innerHTML = "欺负人... (ᗒᗣᗕ)՞  ばか...";
            hideButtons();
        }

        function hideButtons () {
            noButton.style.display = "none";
            yesButton1.style.display = "none";
            yesButton2.style.display = "none";
        }
    </script>
</body>
</html>